[gd_scene load_steps=6 format=3 uid="uid://hqu0sjhj021n"]

[ext_resource type="Script" uid="uid://ckdgqsbiy8uk7" path="res://godot4/effects/grid/Grid.gd" id="1_tx3yk"]
[ext_resource type="PackedScene" uid="uid://bbh6dfcfwh26k" path="res://godot4/traits/Styleable.tscn" id="3_j3xxa"]
[ext_resource type="PackedScene" uid="uid://cors4pgqhn0ig" path="res://godot4/effects/grid/GridLines.tscn" id="3_t333u"]

[sub_resource type="GDScript" id="GDScript_3687u"]
script/source = "extends Node2D

#@export var frames_wait := 3

var points = PackedVector2Array() : set = set_points

#var frame_count: int = -1

func set_points(v: PackedVector2Array) -> void:
	points = v

func _process(delta):
	#frame_count += 1
	#if frame_count % frames_wait: # FIXME check this optimization
	#	return
	
	queue_redraw()

func _draw():
	draw_colored_polygon(points, Color(1,1,1))
	
"

[sub_resource type="ImmediateMesh" id="ImmediateMesh_ta8v7"]

[node name="Grid" type="Node2D"]
z_index = -7
z_as_relative = false
script = ExtResource("1_tx3yk")

[node name="Styleable" parent="." instance=ExtResource("3_j3xxa")]
unique_name_in_owner = true

[node name="Mask" type="Node2D" parent="."]
unique_name_in_owner = true
clip_children = 1
position = Vector2(0, 32)
script = SubResource("GDScript_3687u")

[node name="MeshInstance2D" type="MeshInstance2D" parent="Mask"]
unique_name_in_owner = true
visible = false
modulate = Color(0, 0, 0, 0.509804)
mesh = SubResource("ImmediateMesh_ta8v7")

[node name="GridLines" parent="Mask" instance=ExtResource("3_t333u")]
unique_name_in_owner = true
